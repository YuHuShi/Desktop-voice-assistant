<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Release Notes for STM32H7RSxx HAL Drivers Package</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/x-icon" href="_htmresc/favicon.png" />
</head>
<body>
<div class="row">
<div class="col-sm-12 col-lg-4">
<center>
<h1 id="release-notes-for">Release Notes for</h1>
<h1 id="stm32h7rsxx-hal-drivers"><mark>STM32H7RSxx HAL Drivers</mark></h1>
<p>Copyright Â© 2022 STMicroelectronics</p>
<a href="https://www.st.com" class="logo"><img src="_htmresc/st_logo_2020.png" alt="ST logo" /></a>
</center>
<h1 id="purpose">Purpose</h1>
<p>The STM32Cube HAL and LL, an STM32 abstraction layer embedded software, ensure maximized portability across STM32 portfolio.</p>
<p>The portable APIs layer provides a generic, multi instanced and simple set of APIs to interact with the upper layer (application, libraries and stacks). It is composed of native and extended APIs set. It is directly built around a generic architecture and allows the build-upon layers, like the middleware layer, to implement its functions without knowing in-depth the used STM32 device. This improves the library code reusability and guarantees an easy portability on other devices and STM32 families.</p>
<p>The Low Layer (LL) drivers are part of the STM32Cube firmware HAL that provides a basic set of optimized and one shot services. The Low layer drivers, contrary to the HAL ones are not fully portable across the STM32 families; the availability of some functions depends on the physical availability of the relative features on the product. The Low Layer (LL) drivers are designed to offer the following features:</p>
<ul>
<li>New set of inline functions for direct and atomic register access</li>
<li>One-shot operations that can be used by the HAL drivers or from application level</li>
<li>Full independence from HAL and standalone usage (without HAL drivers)</li>
<li>Full features coverage of all the supported peripherals</li>
</ul>
</div>
<div class="col-sm-12 col-lg-8">
<h1 id="update-history">Update History</h1>
<div class="collapse">
<input type="checkbox" id="collapse-section5" checked aria-hidden="true"> <label for="collapse-section5" aria-hidden="true"> <strong>V1.0.0RC1 / 30-June-2023</strong></label>
<div>
<h2 id="main-changes">Main Changes</h2>
<h3 id="release-candidate-of-stm32cubeh7rs-halll-drivers-supporting-stm32h7rsxx-devices">Release Candidate of <strong>STM32CubeH7RS</strong> HAL/LL Drivers supporting <strong>STM32H7RSxx</strong> devices</h3>
<h2 id="contents">Contents</h2>
<ul>
<li><strong>STM32CubeH7RS</strong> HAL/LL Drivers supporting <strong>STM32H7RSxx</strong> devices:
<ul>
<li><p><strong>HAL</strong>: ADC, CEC, CORDIC, CORTEX, CRC, CRS, CRYP, DBGMCU, DCMIPP, DLB, DMA (HPDMA and GPDMA), DMA2D, DTS, ETH, EXTI, FDCAN, FLASH, FMC, GPIO, GFXMMU, GFXTIM, GPU2D, HASH, I2C, I3C, I2S, ICACHE, IRDA, IWDG, JPEG, LPTIM, LTDC, MCE, MDF, MDIOS, MMC/NAND/NOR/SD/SDRAM/SRAM, PKA, PSSI, PWR, RAMECC, RCC, RNG, RTC, SAI, SBS, SPDIFRX, SMARTCARD, SMBUS, SPI, TIM, UART, USART, USB (HCD and PCD), WWDG, XSPI</p></li>
<li><p><strong>LL</strong>: ADC, CORDIC, CORTEX, CRC, CRS, DMA, EXTI, FMC, GPIO, I2C, I3C, ICACHE, LPTIM, LPUART, PKA, PWR, RCC, RNG, RTC, SDMMC, SPI, SYSTEM, TIM, USART, USB, UTILS, UCPD<br />
</p></li>
</ul></li>
</ul>
<p>New features</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">[DCMIPP] API driver update</td>
</tr>
<tr class="even">
<td style="text-align: left;">[MCE] Add support for IRQHandler API</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[PKA] Add new API HAL_PKA_ECCMulEx() &amp; HAL_PKA_ECCMulEx_IT()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[PSSI] Add new API HAL_PSSI_ClockConfig()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RTC] TAMP_ATCKSEL bitfiled extension to 3 bits</td>
</tr>
<tr class="even">
<td style="text-align: left;">[LL RCC] Add missing LL RCC functions for CKPROTR bits</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[CRYP] Allow footprint Optimization of HAL CRYP</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HAL] Add define to allow footprint Optimization of HAL CRYP</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[ADC] Add new Helper macro for differential mode raw data to voltage conversion</td>
</tr>
</tbody>
</table>
<p>Fixed bugs list</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">[LL ADC] Correct driver misalignment vs datasheet on temp sensor calibration data</td>
</tr>
<tr class="even">
<td style="text-align: left;">[CORTEX] Modify existing macros to check preemption priority and sub priority versus current priority grouping</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[CORTEX] Add check of MPU region base address alignment vs region size multiple</td>
</tr>
<tr class="even">
<td style="text-align: left;">[CRYP] Update Crypt/Decrypt IT processes to avoid Computation Completed IRQ fires before the DINR pointer increment</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA][LL] Missing LL_DMA_SRC_DATAWIDTH_DOUBLEWORD in IS_LL_DMA_SRC_DATA_WIDTH</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA][LL] Add initialization for DestWordExchange in LL_DMA_NodeStructInit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA][LL] Add initialization for Mode in LL_DMA_NodeStructInit</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA][LL] Add initialization for NodeType when GPDMA and HPDMA are both available</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA][LL] Add DestWordExcange in CTR1 bitfields description in LL_DMA_CreateLinkNode</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA][LL] Add assert for DestWordExchange in LL_DMA_CreateLinkNode</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA][LL] Missing argument for PFREQ in LL_DMA_ConfigChannelTransfer function description</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA][LL] Incomplete test for LL_DMA_CreateLinkNode</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA][LL] Add LL_DMA_GPDMA_2D_NODE in IS_LL_DMA_LINK_NODETYPE assert</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA] Mention in LL_DMA_SetLinkedListAddrOffset that LinkedListAddrOffset is increased by step of 4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA] Incorrect value for Block repeat counter max value in LL_DMA_ConfigBlkCounters description</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA2D] HAL/LL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DTS] HAL/LL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FDCAN] Fix GetIndex issue in HAL_FDCAN_GetRxMessage</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FLASH] Correct value for OB_DBG_AUTH_ECDSA_SIGN</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FLASH] FLASH API cleanup for ROTSRP and EPOCHSRP</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FMC] Solve compilation warning in hal_nand.c when REGISTER_CALLBACKS=1</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HAL] HSE crystal changed to 24MHz</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[HAL] add USE_HAL_PSSI_REGISTER_CALLBACKS in stm32h7rsxx_hal_conf.h</td>
</tr>
<tr class="even">
<td style="text-align: left;">[GFXMMU] HAL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[GFXTIM] HAL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">[GFXTIM] HAL code quality enhancement for MISRA-C Rule-11.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[GFXTIM] HAL code quality enhancement for CodeSonar</td>
</tr>
<tr class="even">
<td style="text-align: left;">[GFXTIM] HAL code comment enhancement for CHM generation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[GPIO] Modify naming from GPIO_PIN_All to GPIO_PIN_ALL</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HASH] Fix spelling error</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[HASH] HAL code comment enhancement for CHM generation</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HASH] Remove multiple volatile reads or writes in interrupt handler (for better performance)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I2C] HAL_I2C_Mem_Write_IT failed after wrong I2C Polling transaction</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I2C] TX IRQ is not disabled after data transfer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I2C] I2C master receive function failed randomly when interrupt is enabled and NAK is received</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I2C] HAL_I2C_EnableListen_IT used in HAL_I2C_ListenCpltCallback</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I3C LL] Change MODIFY_REG by WRITE_REG in LL_I3C_TransmitData8(), LL_I3C_ControllerHandleMessage(), LL_I3C_ControllerHandleCCC(), LL_I3C_TargetHandleMessage()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[MCE] Correct violations of MISRAC2012-Rule-14.3_b, 15.7, 2.2_c, 8.13 and 13.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[MCE] HAL code comment enhancement for CHM generation</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FMC] HAL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FMC] Correct compilation warning in hal_nand.c when REGISTER_CALLBACKS=1</td>
</tr>
<tr class="even">
<td style="text-align: left;">[PKA] Remove multiple volatile reads or writes in interrupt handler (for better performance)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RCC] Change the VCOL/H selection logic in HAL_RCC_OscConfig</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RTC] Remove all useless RTC Write Protection Disable/Enable calls</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RTC] Bad implementation of HAL_RTC_GET_FLAG() macro</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RTC] Rework of HAL_RTC Macro implementation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RTC LL] Correct note on RSF</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SAI] Improve audio quality (avoid potential glitch)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[SMBUS] Correct MISRAC2012-Rule-2.2_c issue: Value assigned to variable `sizetoxferâ is never used</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SMARTCARD] Correct Tx/Rx Fifo sizes in HAL_SMARTCARD driver</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[SPDIFRX] Prevent hard fault by checking DMA usage</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SPDIFRX] Tune default SPDIFRX timeout</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[TIM LL] Correct doxygen comment for some LL_TIM_ETR_FILTER_FDIVx_Ny constants</td>
</tr>
<tr class="even">
<td style="text-align: left;">[TIM] Change Assert check for HAL_TIM_OC_Start_IT</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[TIM] Correct MISRA Warning in TIM_CCxNChannelCmd</td>
</tr>
<tr class="even">
<td style="text-align: left;">[TIM] Remove multiple volatile reads or writes in interrupt handler (for better performance)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[UART] Update initialisation sequence for TXINV, RXINV and TXRXSWAP settings</td>
</tr>
<tr class="even">
<td style="text-align: left;">[USB] HAL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[XSPI] HAL code quality enhancement for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">[XSPI] Reset the bits FMODE[1:0] from XSPI_CR register in HAL_XSPI_Abort()</td>
</tr>
</tbody>
</table>
<h2 id="supported-devices-and-boards">Supported Devices and boards</h2>
<ul>
<li>STM32H7S7xx, STM32H7S3xx, STM32H7R7xx, STM32H7R3xx devices</li>
</ul>
<h2 id="backward-compatibility">Backward compatibility</h2>
<ul>
<li>Not applicable</li>
</ul>
<h2 id="known-limitations">Known Limitations</h2>
<ul>
<li>None</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>None</li>
</ul>
<h2 id="notes">Notes</h2>
<ul>
<li>None</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section4" aria-hidden="true"> <label for="collapse-section4" aria-hidden="true"> <strong>V0.3.0 / 24-March-2023</strong></label>
<div>
<h2 id="main-changes-1">Main Changes</h2>
<h3 id="beta-release-with-api-freeze-level-of-stm32cubeh7rs-hal-and-ll-drivers-supporting-stm32h7rsxx-devices">Beta Release with API freeze level of <strong>STM32CubeH7RS</strong> HAL and LL Drivers supporting <strong>STM32H7RSxx</strong> devices</h3>
<h2 id="contents-1">Contents</h2>
<ul>
<li>Beta Release of HAL/LL drivers:
<ul>
<li><p><strong>HAL</strong>: ADC, CEC, CORDIC, CORTEX, CRC, CRS, CRYP, DBGMCU, DLB, DMA (HPDMA and GPDMA), DMA2D, DTS, ETH, EXTI, FDCAN, FLASH, FMC, GPIO, GFXMMU, GFXTIM, GPU2D, HASH, I2C, I3C, I2S, ICACHE, IRDA, IWDG, JPEG, LPTIM, LTDC, MCE, MDF, MDIOS, MMC/NAND/NOR/SD/SDRAM/SRAM, PKA, PSSI, PWR, RAMECC, RCC, RNG, RTC, SAI, SBS, SPDIFRX, SMARTCARD, SMBUS, SPI, TIM, UART, USART, USB (HCD and PCD), WWDG, XSPI</p></li>
<li><p><strong>LL</strong>: ADC, CORDIC, CORTEX, CRC, CRS, DMA, EXTI, FMC, GPIO, I2C, I3C, ICACHE, LPTIM, LPUART, PKA, PWR, RCC, RNG, RTC, SDMMC, SPI, SYSTEM, TIM, USART, USB, UTILS, UCPD<br />
</p></li>
</ul></li>
</ul>
<p>New features</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">[CORTEX] Add dedicated assert macro for Set &amp; Get Priority APIs</td>
</tr>
<tr class="even">
<td style="text-align: left;">[GFXTIM] API freeze</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[MCE] API freeze</td>
</tr>
</tbody>
</table>
<p>Fixed bugs list</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">[ALL] Fix astyle issues</td>
</tr>
<tr class="even">
<td style="text-align: left;">[ADC] Fix doxygen issues</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[ADC] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[CORDIC] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[CORTEX] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[CRC] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[CRYP] HAL driver realignment vs latest product</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA] Correct LL_DMA_GET_INSTANCE</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA] Fix doxygen issues</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA] Check validity of Request number for Memory to Memory instead of Periph to memory transfers</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DTS] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[ETH] Fix astyle &amp; Doxygen issues</td>
</tr>
<tr class="even">
<td style="text-align: left;">[ETH] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[EXTI] Correct the way pExtiConfig-&gt;GPIOSel is computed in HAL_EXTI_GetConfigLine()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[EXTI] Fix astyle &amp; Doxygen issues</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[EXTI] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FLASH] Naming alignment vs latest RM (OPTKCR renamed into OBKCR)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FLASH] Fix astyle issues (Rename OB_USER_nRST_* in B_USER_NRST_*)</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FLASH] Correction for MISRA C 2012</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FMC] Remove __HAL_LOCK() from HAL_xxx_RegisterCallback()/HAL_xxx_UnRegisterCallback()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FMC] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FMC] Fix Doxygen issues</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HAL] Correct wrong description of HAL_GetTickFreq() API</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[HAL] API alignment vs latest RM : reference to ECC removed and replace RMA by SRAM.</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HAL] Correct HAL_InitTick() erroneous initialization sequence in stm32h7rsxx_hal_timebase_tim_template.c</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[HAL] Fix astyle issues</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HAL] Add USE_HAL_PSSI_REGISTER_CALLBACKS switch in stm32h7rsxx_hal_conf_template.h</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[HAL] HAL version symbols should be inside header-files not in c-file</td>
</tr>
<tr class="even">
<td style="text-align: left;">[GPIO] Add missing AF0 for PWR</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[GPIO] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[GPU2D] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[HASH] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[HASH] Fix astyle and doxygen issues</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I2C] Correct issue with HAL_I2C_IsDeviceReady</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I3C] Correct violation of MISRAC2012-Rule-2.7 and MISRAC2012-Rule-8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I3C] Correct wrong SCLH I3C calculation vs MIPI norm</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I3C] Correct wrong rounding on calculation on SCLL value</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I3C] Fix Doxygen issue</td>
</tr>
<tr class="even">
<td style="text-align: left;">[JPEG] Delete the condition for the call of JPEG_DMA_EndProcess()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[JPEG] Correction for MISRA rule 8.13 and MISRAC2012-Rule-14.3_b</td>
</tr>
<tr class="even">
<td style="text-align: left;">[LPTIM] Correct wrong handling of HAL_LPTIM_ERROR_CB_ID in HAL_LPTIM_UnRegisterCallback</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[LPTIM] Add delay before each write to CCMRx to address</td>
</tr>
<tr class="even">
<td style="text-align: left;">[LTDC] Correct issues related to CHM generation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[PKA] Correction MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[PSSI] Add USE_HAL_PSSI_REGISTER_CALLBACKS switch</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[PSSI] Remove multiple volatile reads or writes in interrupt handler (for better performance)</td>
</tr>
<tr class="even">
<td style="text-align: left;">[PSSI] Remove HAL DMA dependency thanks to the HAL_DMA_MODULE_ENABLED define</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[PSSI] Fix MISRA violations</td>
</tr>
<tr class="even">
<td style="text-align: left;">[PWR] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[PWR] LL macro renaming to be aligned vs latest RM</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RAMECC] Correction for MISRA rule 8.13</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RNG] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RCC] PLL1 DIVP division factor zero is allowed</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RCC] Fix LL UTILS compilation dependency on LL_RCC_CalcPLLClockFreq()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RCC] Cleanup of RCC_LSE_TIMEOUT_VALUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RCC] RTCEN shall be enabled/disabled when configuring RTC clock</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RCC] Add RCC prefix before each private constant</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RCC] Correction for MISRA rule 8.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RTC] Correct inversion of the output type defines names</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RTC] Remove useless RTC_ICSR_WUTWF bit polling inside HAL_RTCEx_DeactivateWakeUpTimer</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SPI] Correct issues related to CHM generation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[TIM] Remove TIM Automatic Output feature Strange line in LL_TIM_BDTR_Init()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[TIM] Correct systematic channel disabling by HAL_TIM_OC_ConfigChannel()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[TIM] Correct violation of MISRAC2012-Rule-14.3_b &amp; codesonar</td>
</tr>
<tr class="even">
<td style="text-align: left;">[XSPI] Correction of MISRA &amp; Codesonar violations</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[XSPI] Update hyperbus structure and APIs to handle 16-bits hyperbus feature</td>
</tr>
<tr class="even">
<td style="text-align: left;">[USB] Fix MISRA issues</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[USB] Fix LL clear interrupt and halt channel functions</td>
</tr>
<tr class="even">
<td style="text-align: left;">[USB] Remove useless frame interval setting</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[USB] Add support of host HS SPLIT transactions</td>
</tr>
<tr class="even">
<td style="text-align: left;">[USB] Avoid enabling NAK interrupt when USB DMA is used</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[UTILS] Correction of Codesonar issue</td>
</tr>
<tr class="even">
<td style="text-align: left;">[WWDG] Fix Doxygen issues</td>
</tr>
</tbody>
</table>
<h2 id="supported-devices-and-boards-1">Supported Devices and boards</h2>
<ul>
<li>STM32H7S7xx, STM32H7S3xx, STM32H7R7xx, STM32H7R3xx devices</li>
</ul>
<h2 id="backward-compatibility-1">Backward compatibility</h2>
<ul>
<li>Not applicable</li>
</ul>
<h2 id="known-limitations-1">Known Limitations</h2>
<ul>
<li>None</li>
</ul>
<h2 id="dependencies-1">Dependencies</h2>
<ul>
<li>None</li>
</ul>
<h2 id="notes-1">Notes</h2>
<ul>
<li>None</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section3" aria-hidden="true"> <label for="collapse-section3" checked aria-hidden="true"> <strong>V0.2.0 / 16-December-2022</strong></label>
<div>
<h2 id="main-changes-2">Main Changes</h2>
<h3 id="beta-release-of-stm32cubeh7rs-hal-and-ll-drivers-supporting-stm32h7rsxx-devices">Beta Release of <strong>STM32CubeH7RS</strong> HAL and LL Drivers supporting <strong>STM32H7RSxx</strong> devices</h3>
<h2 id="contents-2">Contents</h2>
<ul>
<li>Beta release of HAL/LL drivers
<ul>
<li><p><strong>HAL</strong>: ADC, CEC, CORDIC, CORTEX, CRC, CRS, CRYP, DBGMCU, DLB, DMA (HPDMA and GPDMA), DMA2D, DTS, ETH, EXTI, FDCAN, FLASH, FMC, GPIO, GFXMMU, GPU2D, HASH, I2C, I3C, I2S, ICACHE, IRDA, IWDG, JPEG, LPTIM, LTDC, MDF, MDIOS, MMC/NAND/NOR/SD/SDRAM/SRAM, PKA, PSSI, PWR, RAMECC, RCC, RNG, RTC, SAI, SBS, SPDIFRX, SMARTCARD, SMBUS, SPI, TIM, UART, USART, USB (HCD and PCD), WWDG, XSPI</p></li>
<li><p><strong>LL</strong>: ADC, CORDIC, CORTEX, CRC, CRS, DMA, EXTI, FMC, GPIO, I2C, I3C, ICACHE, LPTIM, LPUART, PKA, PWR, RCC, RNG, RTC, SDMMC, SPI, SYSTEM, TIM, USART, USB, UTILS, UCPD<br />
</p></li>
</ul></li>
</ul>
<p>New features</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Add interfaces for QSPI, OCTOSPI and XSPI to allow update after SFDP scan</td>
</tr>
<tr class="even">
<td style="text-align: left;">New APIs for AXI interconnect (QoS) management (stm32h7rsxx_hal.h/.c)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add LL I2C interface to manage new bit STOPFACLR and ADDRACLR</td>
</tr>
<tr class="even">
<td style="text-align: left;">Add LL UCPD interface to manage PWR_UCPDR_UCPD_STBY and PWR_UCPDR_UCPD_DBDIS bits</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add ETH, MDIOS HAL drivers</td>
</tr>
</tbody>
</table>
<p>Fixed bugs list</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">[ADC_LL] Correct violation of new MISRAC2012-Rule-14.3_a &amp; MISRAC2012-Rule-14.3_b in ll_adc.h</td>
</tr>
<tr class="even">
<td style="text-align: left;">[ADC_LL] Remove references to ADC channel 19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[CRS] Correct CRS HAL &amp; LL Synchronization sources</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA] HPDMA1_TRIGGER GPDMA1_CH15_TCF define incorrect (HAL &amp; LL)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA_HAL] Correct CHM warning in stm32h7rsxx_hal_dma.c</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA_HAL] Add missing configuration of destination word exchange in HAL_DMAEx_ConfigDataHandling</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA_LL] Add double word handling</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA_LL] Use LL_AHB1_GRP1_ForceReset/LL_AHB1_GRP1_ReleaseReset in LL_DMA_DeInit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[DMA_LL] Correct mismatch between GPDMA1 and HPDMA1 in LL_DMA_GET_CHANNEL_INSTANCE</td>
</tr>
<tr class="even">
<td style="text-align: left;">[DMA_LL] Correct DMAx parameter description in function header</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[FDCAN_HAL] FDCAN HAL driver GetIndex issue in HAL_FDCAN_GetRxMessage() not correctly fixed, incorrect test plan</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I2C_HAL] HAL not thread safe (delay issue when using pre-emptive kernel)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I2C_HAL] Remove HAL DMA dependency thanks to the HAL_DMA_MODULE_ENABLED define</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I2C_LL] Improve HAL code quality for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I2C_HAL] Improve HAL code quality for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">[I2S_HAL] MISRA-C2012 Rule 2.2_c warning</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[I3C_LL] Correct violation of new MISRAC2012-Rule-14.3_a in ll_i3c.c</td>
</tr>
<tr class="even">
<td style="text-align: left;">[IRDA_HAL] Remove HAL DMA dependency thanks to the HAL_DMA_MODULE_ENABLED define</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[PWR_HAL] PWR UCPD dead battery enable/disable is inverted</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RCC_HAL] Wrong call to RCC_PLL2_GetVCOOutputFreq() in HAL_RCC_GetPLL3QFreq() and HAL_RCC_GetPLL3RFreq()</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RCC_HAL] Remove HAL_RCC_GetPLL1TFreq() &amp; HAL_RCC_GetPLL3TFreq() since PLL1T and PLL3T have no output</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RTC_BKP_HAL] Fix HAL_GetTick() timeout vulnerability</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RTC_BKP_HAL] Rename RTC_WKUP_IRQHandler and TAMP_STAMP_IRQHandler handler to follow RM naming</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RTC_BKP_HAL] Wrong bit field use to disable SSRU IT</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[RTC_BKP_HAL] Rename some functions and defines for a more appropriate naming</td>
</tr>
<tr class="even">
<td style="text-align: left;">[RTC_BKP_LL] Replace SET_BIT macro by WRITE_REG when possible to optimize registers access</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[SMBUS_HAL] Improve HAL code quality for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SDMMC_HAL] Correct violation of MISRAC2012-Rule-2.2_c in hal_sd.c</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[SMARTCARD_HAL] Remove HAL DMA dependency thanks to the HAL_DMA_MODULE_ENABLED define</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SPI] Correct MISRA-C2012 Rule 2.2_c warning</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[SPI_HAL] SPI_BAUDRATEPRESCALER_BYPASS case not taken into account in STM32U5 spi hal driver</td>
</tr>
<tr class="even">
<td style="text-align: left;">[SPI_HAL] Code Improvements after miscellaneous issues</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[SPI_HAL] Fix remaining Misra 8.13 rule inside extended API and internal functions</td>
</tr>
<tr class="even">
<td style="text-align: left;">[TIM_LL ] Correct __LL_TIM_CALC_PSC non rounded result</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[TIM_LL] Fix CHM generated warning</td>
</tr>
<tr class="even">
<td style="text-align: left;">[TIM_LL ] Correct CHM warning</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[TIM_HAL] Remove __HAL_LOCK() from HAL_xxx_RegisterCallback()/HAL_xxx_UnRegisterCallback()</td>
</tr>
<tr class="even">
<td style="text-align: left;">[TIM_HAL] Correct TIM exported functions group out of TIM LL driver group</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[UART_HAL] Improve HAL code quality for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">[UART_HAL] Improve UART_WaitOnFlagUntilTimeout when UART errors</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[UART_HAL] Remove HAL DMA dependency thanks to the HAL_DMA_MODULE_ENABLED define</td>
</tr>
<tr class="even">
<td style="text-align: left;">[UART_HAL] Correct violation of new MISRAC2012-Rule-14.3_a &amp; MISRAC2012-Rule-14.3_b</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[USART_HAL] Remove HAL DMA dependency thanks to the HAL_DMA_MODULE_ENABLED define</td>
</tr>
<tr class="even">
<td style="text-align: left;">[USART_LL] Improve LL code quality for MISRA-C Rule-8.13: adding const qualifier</td>
</tr>
<tr class="odd">
<td style="text-align: left;">[XSPI_HAL] Function HAL_XSPI_AutoPolling must return timeout information</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-2">Known Limitations</h2>
<ul>
<li>DCMIPP, GFXTIM and MCE HAL drivers are still in Alpha version (functional drivers, no API freeze).</li>
</ul>
<h2 id="backward-compatibility-2">Backward compatibility</h2>
<ul>
<li>Not applicable</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section2" aria-hidden="true"> <label for="collapse-section2" checked aria-hidden="true"> <strong>V0.1.0 / 11-October-2022</strong></label>
<div>
<h2 id="main-changes-3">Main Changes</h2>
<h3 id="alpha-release-of-stm32cubeh7rs-firmware-package-supporting-stm32h7rsxx-devices">Alpha Release of <strong>STM32CubeH7RS</strong> Firmware package supporting <strong>STM32H7RSxx</strong> devices</h3>
<h2 id="contents-3">Contents</h2>
<ul>
<li>Alpha release of HAL/LL drivers
<ul>
<li><p><strong>HAL</strong>: ADC, CEC, CORTEX, CORDIC, CORTEX, CRC, CRS, CRYP, DCMIPP, DLB, DMA, DMA2D, DTS, EXTI, FDCAN, FLASH, FMC, GPIO, GFXTIM, GFXMMU, GPU2D, HASH, I2C, I3C, I2S, ICACHE, IRDA, IWDG, JPEG, LPTIM, LTDC, MCE, MDF, PKA, PSSI, PWR, RAMECC, RCC, RNG, RTC, SAI, SBS, SPDIFRX, SMARTCARD, SMBUS, SPI, TIM, UART, USART, USB, WWDG, XSPI</p></li>
<li><p><strong>LL</strong>: ADC, CRC, DMA, EXTI, GPIO, I2C, ICACHE, LPTIM, LPUART, PKA, PWR, RCC, RNG, RTC, SPI, TIM, USART, UTILS, UCPD<br />
</p></li>
</ul></li>
</ul>
<p>Fixed bugs list</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">[RCC] Cleanup of RCC_LSE_TIMEOUT_VALUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">[FLASH] New LL FLASH API to manage update of OB to select I2C1 vs I3C1</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations-3">Known Limitations</h2>
<ul>
<li>Alpha release of HAL/LL Drivers (not fully validation, no API freeze)</li>
</ul>
<h2 id="backward-compatibility-3">Backward compatibility</h2>
<ul>
<li>Not applicable</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section1" aria-hidden="true"> <label for="collapse-section1" checked aria-hidden="true"> <strong>V0.1.0RC1 / 02-September-2022</strong></label>
<div>
<h2 id="main-changes-4">Main Changes</h2>
<h3 id="release-candidate-of-stm32cubeh7rs-firmware-package-supporting-stm32h7rsxx-devices">Release Candidate of <strong>STM32CubeH7RS</strong> Firmware package supporting <strong>STM32H7RSxx</strong> devices</h3>
<h2 id="contents-4">Contents</h2>
<ul>
<li>Preliminary release of HAL/LL drivers
<ul>
<li><p><strong>HAL</strong>: ADC, CEC, CORTEX, CORDIC, CORTEX, CRC, CRS, CRYP, DCMIPP, DLB, DMA, DMA2D, DTS, EXTI, FDCAN, FLASH, FMC, GPIO, GFXTIM, GFXMMU, GPU2D, HASH, I2C, I3C, I2S, ICACHE, IRDA, IWDG, JPEG, LPTIM, LTDC, MCE, MDF, PKA, PSSI, PWR, RAMECC, RCC, RNG, RTC, SAI, SBS, SPDIFRX, SMARTCARD, SMBUS, SPI, TIM, UART, USART, USB, WWDG, XSPI</p></li>
<li><p><strong>LL</strong>: ADC, CRC, DMA, EXTI, GPIO, I2C, ICACHE, LPTIM, LPUART, PKA, PWR, RCC, RNG, RTC, SPI, TIM, USART, UTILS, UCPD<br />
</p></li>
</ul></li>
</ul>
<h2 id="known-limitations-4">Known Limitations</h2>
<ul>
<li>ETH, MDIOS drivers &amp; MW not available</li>
<li>Alpha release of HAL/LL Drivers (not fully validation, no API freeze)</li>
<li>LL drivers present but mostly not tested</li>
</ul>
<h2 id="backward-compatibility-4">Backward compatibility</h2>
<ul>
<li>Not applicable</li>
</ul>
</div>
</div>
</div>
</div>
<footer class="sticky">
<div class="columns">
<div class="column" style="width:95%;">
<p>For complete documentation on STM32 Microcontrollers </mark>, visit: <span style="font-color: blue;"><a href="http://www.st.com/stm32">www.st.com/stm32</a></span></p>
<p><em>This release note uses up to date web standards and, for this reason, should not be opened with Internet Explorer but preferably with popular browsers such as Google Chrome, Mozilla Firefox, Opera or Microsoft Edge.</em></p>
</div><div class="column" style="width:5%;">
<p><abbr title="Based on template cx566953 version 2.0">Info</abbr></p>
</div>
</div>
</footer>
</body>
</html>
