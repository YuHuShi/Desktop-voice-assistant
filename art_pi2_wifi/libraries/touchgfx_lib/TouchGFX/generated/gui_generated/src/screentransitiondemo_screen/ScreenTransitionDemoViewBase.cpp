/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screentransitiondemo_screen/ScreenTransitionDemoViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

ScreenTransitionDemoViewBase::ScreenTransitionDemoViewBase() :
    buttonCallback(this, &ScreenTransitionDemoViewBase::buttonCallbackHandler),
    bottombarGetTransitionInfoCallback(this, &ScreenTransitionDemoViewBase::bottombarGetTransitionInfoCallbackHandler),
    bottombarScrollWheelPressedCallback(this, &ScreenTransitionDemoViewBase::bottombarScrollWheelPressedCallbackHandler),
    bottombarScrollWheelAnimationEndedCallback(this, &ScreenTransitionDemoViewBase::bottombarScrollWheelAnimationEndedCallbackHandler),
    slideMenuStateChangedCallback(this, &ScreenTransitionDemoViewBase::slideMenuStateChangedCallbackHandler),
    bottombarAnimaitonSpeedPressedCallback(this, &ScreenTransitionDemoViewBase::bottombarAnimaitonSpeedPressedCallbackHandler),
    flexButtonCallback(this, &ScreenTransitionDemoViewBase::flexButtonCallbackHandler)
{
    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    backgroundBox.setPosition(0, 10, 800, 470);
    backgroundBox.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    add(backgroundBox);

    background.setXY(0, 50);
    background.setBitmap(touchgfx::Bitmap(BITMAP_BACKGROUND_DAY_FULL_ID));
    add(background);

    transitionMenu.setXY(0, 330);
    transitionMenu.setup(touchgfx::SlideMenu::NORTH,
        touchgfx::Bitmap(BITMAP_EMPTYBOTTOMBARBG_ID),
        0, 0);
    transitionMenu.setState(touchgfx::SlideMenu::EXPANDED);
    transitionMenu.setVisiblePixelsWhenCollapsed(50);
    transitionMenu.setHiddenPixelsWhenExpanded(0);
    transitionMenu.setAnimationEasingEquation(touchgfx::EasingEquations::cubicEaseInOut);
    transitionMenu.setAnimationDuration(18);
    transitionMenu.setExpandedStateTimeout(180);
    transitionMenu.setStateChangedCallback(slideMenuStateChangedCallback);
    bottomBarButton.setBoxWithBorderPosition(0, 0, 0, 0);
    bottomBarButton.setBorderSize(0);
    bottomBarButton.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255));
    bottomBarButton.setAction(flexButtonCallback);
    bottomBarButton.setPosition(326, 0, 148, 60);
    transitionMenu.add(bottomBarButton);

    bottombar.setXY(0, 0);
    bottombar.setGetTransitionInfoCallback(bottombarGetTransitionInfoCallback);
    bottombar.setScrollWheelPressedCallback(bottombarScrollWheelPressedCallback);
    bottombar.setScrollWheelAnimationEndedCallback(bottombarScrollWheelAnimationEndedCallback);
    bottombar.setAnimaitonSpeedPressedCallback(bottombarAnimaitonSpeedPressedCallback);
    transitionMenu.add(bottombar);

    add(transitionMenu);

    topbar.setXY(0, 0);
    add(topbar);

    selectedTransitionText.setPosition(200, 267, 400, 48);
    selectedTransitionText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    selectedTransitionText.setLinespacing(0);
    selectedTransitionText.setTypedText(touchgfx::TypedText(T_LARGECOVERTRANSITION));
    add(selectedTransitionText);

    startTransitionButton.setXY(345, 155);
    startTransitionButton.setBitmaps(touchgfx::Bitmap(BITMAP_ICON_PLAY_DARK_ID), touchgfx::Bitmap(BITMAP_ICON_PLAY_DARK_ID));
    startTransitionButton.setAction(buttonCallback);
    add(startTransitionButton);
}

ScreenTransitionDemoViewBase::~ScreenTransitionDemoViewBase()
{

}

void ScreenTransitionDemoViewBase::setupScreen()
{
    bottombar.initialize();
    topbar.initialize();
}

void ScreenTransitionDemoViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &startTransitionButton)
    {
        //startTransitionPressedInteraction
        //When startTransitionButton clicked call startTransitionPressed on ScreenTransitionDemo
        //Call startTransitionPressed
        startTransitionPressed();
    }
}

void ScreenTransitionDemoViewBase::bottombarGetTransitionInfoCallbackHandler(TransitionInfo* value)
{
    //GetTransitionInfoInteraction
    //When bottombar getTransitionInfo call getTransitionInfo on ScreenTransitionDemo
    //Call getTransitionInfo
    getTransitionInfo(value);
}

void ScreenTransitionDemoViewBase::bottombarScrollWheelPressedCallbackHandler()
{
    //ScrollWheelPressedInteraction
    //When bottombar scrollWheelPressed call scrollWheelPressed on ScreenTransitionDemo
    //Call scrollWheelPressed
    scrollWheelPressed();
}

void ScreenTransitionDemoViewBase::bottombarScrollWheelAnimationEndedCallbackHandler()
{
    //ScrollWheelAnimationEndedInteraction
    //When bottombar scrollWheelAnimationEnded call scrollWheelAnimationEnded on ScreenTransitionDemo
    //Call scrollWheelAnimationEnded
    scrollWheelAnimationEnded();
}

void ScreenTransitionDemoViewBase::slideMenuStateChangedCallbackHandler(const touchgfx::SlideMenu& src)
{
    if (&src == &transitionMenu)
    {
        //SliderMenueStateChangedInteraction1
        //When transitionMenu state changed call animateArrow on bottombar
        //Call animateArrow
        bottombar.animateArrow(transitionMenu.getState());

        //SliderMenueStateChangedInteraction2
        //When transitionMenu state changed call sliderMenuStateChanged on ScreenTransitionDemo
        //Call sliderMenuStateChanged
        sliderMenuStateChanged(transitionMenu.getState());
    }
}

void ScreenTransitionDemoViewBase::bottombarAnimaitonSpeedPressedCallbackHandler(bool value)
{
    //AnimationSpeeedButtonInteraction
    //When bottombar animaitonSpeedPressed call animationSpeedButtonPressed on ScreenTransitionDemo
    //Call animationSpeedButtonPressed
    animationSpeedButtonPressed(value);
}

void ScreenTransitionDemoViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &bottomBarButton)
    {
        //bottomBarButtonClicked
        //When bottomBarButton clicked call virtual function
        //Call bottomBarButtonClicked
        bottomBarButtonClicked();
    }
}
