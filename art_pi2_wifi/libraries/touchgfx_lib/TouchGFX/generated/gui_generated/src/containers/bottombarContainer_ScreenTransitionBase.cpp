/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/containers/bottombarContainer_ScreenTransitionBase.hpp>
#include <images/BitmapDatabase.hpp>

bottombarContainer_ScreenTransitionBase::bottombarContainer_ScreenTransitionBase() :
    getTransitionInfoCallback(0),
    scrollWheelPressedCallback(0),
    scrollWheelAnimationEndedCallback(0),
    animaitonSpeedPressedCallback(0),
    updateItemCallback(this, &bottombarContainer_ScreenTransitionBase::updateItemCallbackHandler),
    animationSpeedButtonButtonPressedCallback(this, &bottombarContainer_ScreenTransitionBase::animationSpeedButtonButtonPressedCallbackHandler)
{
    setWidth(800);
    setHeight(150);
    background.setXY(0, 30);
    background.setBitmap(touchgfx::Bitmap(BITMAP_TRANS_BUND_BG_ID));
    add(background);

    transitionSelectionWheel.setPosition(138, 68, 524, 82);
    transitionSelectionWheel.setHorizontal(true);
    transitionSelectionWheel.setCircular(true);
    transitionSelectionWheel.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    transitionSelectionWheel.setSwipeAcceleration(10);
    transitionSelectionWheel.setDragAcceleration(10);
    transitionSelectionWheel.setNumberOfItems(10);
    transitionSelectionWheel.setSelectedItemOffset(220);
    transitionSelectionWheel.setOvershootPercentage(0);
    transitionSelectionWheel.setDrawableSize(64, 10);
    transitionSelectionWheel.setDrawables(transitionSelectionWheelListItems, updateItemCallback);
    transitionSelectionWheel.animateToItem(0, 0);
    add(transitionSelectionWheel);

    overlay1.setXY(0, 30);
    overlay1.setBitmap(touchgfx::Bitmap(BITMAP_TRANS_BUND_GRADIENT_OVERLAY_1_ID));
    add(overlay1);

    overlay2.setXY(0, 30);
    overlay2.setBitmap(touchgfx::Bitmap(BITMAP_TRANS_BUND_GRADIENT_OVERLAY_2_ID));
    add(overlay2);

    top.setXY(326, 3);
    top.setBitmap(touchgfx::Bitmap(BITMAP_TRANS_BUND_TAB_ID));
    add(top);

    buttonIndicator.setXY(380, 13);
    buttonIndicator.setBitmap(touchgfx::Bitmap(BITMAP_ICON_TAB_CLOSE_ID));
    buttonIndicator.setWidth(40);
    buttonIndicator.setHeight(40);
    buttonIndicator.setBitmapPosition(11.0f, 15.0f);
    buttonIndicator.setScale(1.0f);
    buttonIndicator.setCameraDistance(1000.0f);
    buttonIndicator.setOrigo(20.0f, 20.0f, 1000.0f);
    buttonIndicator.setCamera(20.0f, 20.0f);
    buttonIndicator.setAngles(0.0f, 0.0f, 0.0f);
    buttonIndicator.setRenderingAlgorithm(touchgfx::TextureMapper::NEAREST_NEIGHBOR);
    add(buttonIndicator);

    animationSpeedButton.setXY(0, 41);
    animationSpeedButton.setButtonPressedCallback(animationSpeedButtonButtonPressedCallback);
    add(animationSpeedButton);
}

bottombarContainer_ScreenTransitionBase::~bottombarContainer_ScreenTransitionBase()
{

}

void bottombarContainer_ScreenTransitionBase::initialize()
{
    transitionSelectionWheel.initialize();
    for (int i = 0; i < transitionSelectionWheelListItems.getNumberOfDrawables(); i++)
    {
        transitionSelectionWheelListItems[i].initialize();
    }
    animationSpeedButton.initialize();
}

void bottombarContainer_ScreenTransitionBase::animationSpeedButtonButtonPressedCallbackHandler(bool value)
{
    //animationSpeedPressed
    //When animationSpeedButton buttonPressed emit animaitonSpeedPressed callback
    //Emit callback
    emitAnimaitonSpeedPressedCallback(value);
}

void bottombarContainer_ScreenTransitionBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &transitionSelectionWheelListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        transitionItem_ScreenTransition* cc = (transitionItem_ScreenTransition*)d;
        transitionSelectionWheelUpdateItem(*cc, itemIndex);
    }
}
